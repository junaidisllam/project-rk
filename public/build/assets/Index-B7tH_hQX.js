import{d as H,r as z,a as q,u as X,c as C,w as G,b as e,e as r,f as _,g as c,h as w,i as o,o as d,F as $,j,n as D,k as J,t as u,l as K,m as v,v as y,p as Q,q as B}from"./app-CRBo5Voe.js";import{_ as R}from"./AppLayout.vue_vue_type_style_index_0_lang-C-6xvEXV.js";import{P as L,H as W,M as U,a as Y,C as Z,T as ee,X as te}from"./Heading-DtnxNrzF.js";import{c as I}from"./createLucideIcon-D5TOW6Nr.js";import{L as A}from"./loader-circle-CBJGsedg.js";import{C as se}from"./chevron-down-7vXSUmto.js";import{_ as ie}from"./_plugin-vue_export-helper-DrTGjmaW.js";import"./lock-aEEwqRyI.js";const le=I("BriefcaseIcon",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const oe=I("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),ne={class:"min-h-screen bg-slate-50 pb-24 md:pb-10"},ae={class:"relative overflow-hidden bg-blue pb-24 shadow-lg lg:rounded-b-[2.5rem]"},de={class:"relative z-10 mx-auto max-w-5xl px-6 pt-8"},re={class:"flex items-center justify-between"},ue={class:"relative z-20 mx-auto -mt-16 max-w-5xl px-4"},ce={key:0,class:"grid grid-cols-1 gap-5 md:grid-cols-2"},me={key:0,class:"absolute top-0 right-0 rounded-bl-xl bg-blue px-3 py-1 text-[10px] font-bold tracking-wider text-white uppercase shadow-sm"},pe={class:"mb-4 flex items-center gap-3"},be={class:"flex h-12 w-12 items-center justify-center rounded-full bg-blue/10 text-blue"},xe={class:"font-bold text-slate-800"},he={class:"text-xs font-medium tracking-wide text-slate-400 uppercase"},fe={class:"space-y-3 pl-1"},_e={class:"flex items-start gap-3"},ve={class:"text-sm leading-relaxed text-slate-600"},ge={class:"font-medium text-slate-800"},we={class:"text-xs text-slate-500"},ye={class:"flex items-center gap-3"},ke={class:"font-mono text-sm font-bold tracking-tight text-slate-700"},ze={class:"mt-6 flex items-center justify-between border-t border-slate-50 pt-4"},Ce=["onClick"],$e={key:1,class:"text-xs font-bold text-blue"},je={class:"flex gap-2"},De=["onClick"],Le=["onClick"],Me={key:1,class:"flex flex-col items-center justify-center rounded-3xl border border-dashed border-slate-300 bg-white py-16 text-center shadow-sm"},Ve={class:"mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-slate-50 shadow-inner"},Be={key:0,class:"relative z-50"},Ue={class:"fixed inset-0 z-50 flex items-end justify-center sm:items-center sm:p-4"},Ae={class:"flex h-[90vh] w-full flex-col rounded-t-[2rem] bg-white shadow-2xl transition-transform duration-300 sm:h-auto sm:max-h-[85vh] sm:max-w-2xl sm:rounded-3xl"},Ie={class:"flex shrink-0 items-center justify-between border-b border-slate-100 px-6 py-5"},Pe={class:"text-lg font-bold text-slate-800"},Se={key:0,class:"text-xs text-slate-500"},Ee={class:"scrollbar-hide flex-1 overflow-y-auto p-6"},Fe={key:0,class:"mt-1 text-[10px] font-bold text-red-500"},Ne={key:0,class:"mt-1 text-[10px] font-bold text-red-500"},Oe={class:"md:col-span-2"},Te={class:"mb-1.5 block text-xs font-bold text-slate-600"},He={class:"relative"},qe=["value","onChange","disabled"],Xe=["value"],Ge=["value"],Je={class:"mt-2 md:col-span-2"},Ke={class:"md:col-span-2"},Qe={class:"flex cursor-pointer items-center gap-3 rounded-xl border border-slate-200 p-3 hover:bg-slate-50"},Re={class:"flex shrink-0 items-center justify-end gap-3 border-t border-slate-100 bg-white px-6 py-4 sm:rounded-b-3xl"},We=["disabled"],Ye={key:1},b="https://sohojapi.vercel.app/api",Ze=H({__name:"Index",props:{addresses:{}},setup(M){const g=z(!1),x=z(null),h=z(!1),n=q({divisions:[],districts:[],upazilas:[],unions:[]}),s=X({name:"",phone:"",alt_phone:"",division_id:"",division_name:"",district_id:"",district_name:"",upazila_id:"",upazila_name:"",union_id:null,union_name:null,address_details:"",is_default:!1}),p=async l=>{try{const t=await fetch(l);return t.ok?await t.json():[]}catch(t){return console.error("Location fetch error:",t),[]}},k=async()=>{x.value=null,s.reset(),s.clearErrors(),n.divisions.length===0&&(h.value=!0,n.divisions=await p(`${b}/divisions`),h.value=!1),n.districts=[],n.upazilas=[],n.unions=[],g.value=!0},P=async l=>{x.value=l,h.value=!0,g.value=!0,n.divisions.length===0&&(n.divisions=await p(`${b}/divisions`)),l.division_id&&(n.districts=await p(`${b}/districts/${l.division_id}`)),l.district_id&&(n.upazilas=await p(`${b}/upzilas/${l.district_id}`)),l.upazila_id&&(n.unions=await p(`${b}/unions/${l.upazila_id}`)),s.name=l.name,s.phone=l.phone,s.alt_phone=l.alt_phone,s.division_id=l.division_id,s.division_name=l.division_name,s.district_id=l.district_id,s.district_name=l.district_name,s.upazila_id=l.upazila_id,s.upazila_name=l.upazila_name,s.union_id=l.union_id,s.union_name=l.union_name,s.address_details=l.address_details,s.is_default=l.is_default,h.value=!1},f=()=>{g.value=!1,s.reset(),s.clearErrors()},S=async l=>{const t=l.target.value,i=n.divisions.find(a=>a.id==t);s.division_id=t,s.division_name=i?.bn_name||i?.name,s.district_id="",s.district_name="",s.upazila_id="",s.upazila_name="",s.union_id=null,s.union_name=null,n.districts=await p(`${b}/districts/${t}`),n.upazilas=[],n.unions=[]},E=async l=>{const t=l.target.value,i=n.districts.find(a=>a.id==t);s.district_id=t,s.district_name=i?.bn_name||i?.name,s.upazila_id="",s.upazila_name="",s.union_id=null,s.union_name=null,n.upazilas=await p(`${b}/upzilas/${t}`),n.unions=[]},F=async l=>{const t=l.target.value,i=n.upazilas.find(a=>a.id==t);s.upazila_id=t,s.upazila_name=i?.bn_name||i?.name,s.union_id=null,s.union_name=null,n.unions=await p(`${b}/unions/${t}`)},N=l=>{const t=l.target.value,i=n.unions.find(a=>a.id==t);s.union_id=t,s.union_name=i?.bn_name||i?.name},V=()=>{x.value?s.put(route("addresses.update",x.value.id),{onSuccess:()=>f()}):s.post(route("addresses.store"),{onSuccess:()=>f()})},O=l=>{confirm("Are you sure you want to delete this address?")&&B.delete(route("addresses.destroy",l),{preserveScroll:!0})},T=l=>{B.patch(route("addresses.setDefault",l),{preserveScroll:!0})};return(l,t)=>(d(),C(R,null,{default:G(()=>[e("div",ne,[e("div",ae,[t[7]||(t[7]=e("div",{class:"absolute -top-20 -right-20 h-64 w-64 rounded-full bg-white/10 blur-3xl"},null,-1)),t[8]||(t[8]=e("div",{class:"absolute top-10 -left-10 h-40 w-40 rounded-full bg-white/10 blur-2xl"},null,-1)),e("div",de,[e("div",re,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-2xl font-bold tracking-wide text-white"}," ঠিকানা সমূহ "),e("p",{class:"mt-1 text-sm text-blue-100 opacity-90"}," আপনার ডেলিভারি লোকেশন ম্যানেজ করুন ")],-1)),e("button",{onClick:k,class:"hidden items-center gap-2 rounded-xl bg-white/10 px-5 py-2.5 text-sm font-bold text-white ring-1 ring-white/30 backdrop-blur-md transition-all hover:bg-white/20 active:scale-95 md:inline-flex"},[c(o(L),{class:"h-5 w-5"}),t[5]||(t[5]=w(" নতুন ঠিকানা ",-1))])])])]),e("div",ue,[M.addresses.length>0?(d(),r("div",ce,[(d(!0),r($,null,j(M.addresses,i=>(d(),r("div",{key:i.id,class:D(["group relative flex flex-col justify-between overflow-hidden rounded-2xl border border-slate-100 bg-white p-5 shadow-sm transition-all hover:-translate-y-1 hover:shadow-lg hover:shadow-blue/5",{"ring-2 ring-blue":i.is_default}])},[i.is_default?(d(),r("div",me," Default ")):_("",!0),e("div",null,[e("div",pe,[e("div",be,[(d(),C(J(i.union_name?o(W):o(le)),{class:"h-6 w-6"}))]),e("div",null,[e("h3",xe,u(i.name),1),e("p",he,u(i.union_name?"Home":"Office / Other"),1)])]),e("div",fe,[e("div",_e,[c(o(U),{class:"mt-0.5 h-4 w-4 shrink-0 text-slate-400"}),e("p",ve,[e("span",ge,u(i.address_details),1),t[9]||(t[9]=e("br",null,null,-1)),e("span",we,u(i.union_name?i.union_name+", ":"")+" "+u(i.upazila_name)+", "+u(i.district_name),1)])]),e("div",ye,[c(o(Y),{class:"h-4 w-4 shrink-0 text-slate-400"}),e("p",ke,u(i.phone),1)])])]),e("div",ze,[i.is_default?(d(),r("span",$e,"ডিফল্ট ঠিকানা")):(d(),r("button",{key:0,onClick:a=>T(i.id),class:"flex items-center gap-1.5 text-xs font-bold text-slate-400 transition-colors hover:text-blue"},[c(o(Z),{class:"h-3.5 w-3.5"}),t[10]||(t[10]=w(" ডিফল্ট করুন ",-1))],8,Ce)),e("div",je,[e("button",{onClick:a=>P(i),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 transition-colors hover:bg-amber-100",title:"Edit"},[c(o(oe),{class:"h-4 w-4"})],8,De),e("button",{onClick:a=>O(i.id),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-500 transition-colors hover:bg-red-100",title:"Delete"},[c(o(ee),{class:"h-4 w-4"})],8,Le)])])],2))),128))])):(d(),r("div",Me,[e("div",Ve,[c(o(U),{class:"h-10 w-10 text-slate-300"})]),t[12]||(t[12]=e("h3",{class:"text-lg font-bold text-slate-900"}," কোনো ঠিকানা পাওয়া যায়নি ",-1)),t[13]||(t[13]=e("p",{class:"mt-2 max-w-xs text-sm text-slate-500"}," আপনার পণ্য ডেলিভারির জন্য সঠিক ঠিকানা যুক্ত করুন। ",-1)),e("button",{onClick:k,class:"mt-6 inline-flex items-center gap-2 rounded-xl bg-blue px-6 py-3 text-sm font-bold text-white shadow-lg shadow-blue/30 transition-all hover:-translate-y-0.5 hover:bg-blue-hover active:scale-95"},[c(o(L),{class:"h-5 w-5"}),t[11]||(t[11]=w(" প্রথম ঠিকানা যুক্ত করুন ",-1))])]))]),e("button",{onClick:k,class:"fixed right-5 bottom-24 z-30 flex h-14 w-14 items-center justify-center rounded-full bg-blue text-white shadow-lg shadow-blue/40 transition-transform hover:scale-110 active:scale-90 md:hidden"},[c(o(L),{class:"h-7 w-7"})]),g.value?(d(),r("div",Be,[e("div",{class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity duration-300",onClick:f}),e("div",Ue,[e("div",Ae,[e("div",Ie,[e("div",null,[e("h2",Pe,u(x.value?"ঠিকানা পরিবর্তন":"নতুন ঠিকানা"),1),h.value?(d(),r("p",Se,[t[14]||(t[14]=w(" লোকেশন লোড হচ্ছে... ",-1)),c(o(A),{class:"inline h-3 w-3 animate-spin"})])):_("",!0)]),e("button",{onClick:f,class:"rounded-full bg-slate-50 p-2 text-slate-500 transition hover:bg-red-50 hover:text-red-500"},[c(o(te),{class:"h-5 w-5"})])]),e("div",Ee,[e("form",{onSubmit:K(V,["prevent"]),class:"grid grid-cols-1 gap-5 md:grid-cols-2"},[t[20]||(t[20]=e("div",{class:"md:col-span-2"},[e("div",{class:"mb-2 flex items-center gap-2"},[e("div",{class:"h-6 w-1 rounded-full bg-blue"}),e("h3",{class:"text-sm font-bold text-slate-800"}," যোগাযোগের তথ্য ")])],-1)),e("div",null,[t[15]||(t[15]=e("label",{class:"mb-1.5 block text-xs font-bold text-slate-600"},"পুরো নাম",-1)),v(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>o(s).name=i),class:D(["w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-800 focus:border-blue focus:bg-white focus:ring-0",{"border-red-500 bg-red-50":o(s).errors.name}]),placeholder:"আপনার নাম লিখুন"},null,2),[[y,o(s).name]]),o(s).errors.name?(d(),r("p",Fe,u(o(s).errors.name),1)):_("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"mb-1.5 block text-xs font-bold text-slate-600"},"মোবাইল নম্বর",-1)),v(e("input",{type:"tel","onUpdate:modelValue":t[1]||(t[1]=i=>o(s).phone=i),class:D(["w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-800 focus:border-blue focus:bg-white focus:ring-0",{"border-red-500 bg-red-50":o(s).errors.phone}]),placeholder:"017..."},null,2),[[y,o(s).phone]]),o(s).errors.phone?(d(),r("p",Ne,u(o(s).errors.phone),1)):_("",!0)]),e("div",Oe,[t[17]||(t[17]=e("label",{class:"mb-1.5 block text-xs font-bold text-slate-600"},"বিকল্প মোবাইল (ঐচ্ছিক)",-1)),v(e("input",{type:"tel","onUpdate:modelValue":t[2]||(t[2]=i=>o(s).alt_phone=i),class:"w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-800 focus:border-blue focus:bg-white focus:ring-0"},null,512),[[y,o(s).alt_phone]])]),t[21]||(t[21]=e("div",{class:"mt-2 md:col-span-2"},[e("div",{class:"mb-2 flex items-center gap-2"},[e("div",{class:"h-6 w-1 rounded-full bg-blue"}),e("h3",{class:"text-sm font-bold text-slate-800"}," এলাকার তথ্য ")])],-1)),(d(),r($,null,j({division:"বিভাগ",district:"জেলা",upazila:"থানা / উপজেলা",union:"ইউনিয়ন (ঐচ্ছিক)"},(i,a)=>e("div",{key:a},[e("label",Te,u(i),1),e("div",He,[e("select",{value:o(s)[`${a}_id`],onChange:m=>a==="division"?S(m):a==="district"?E(m):a==="upazila"?F(m):N(m),disabled:a!=="division"&&!o(s)[`${a==="district"?"division":a==="upazila"?"district":"upazila"}_id`],class:"w-full appearance-none rounded-xl border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-800 focus:border-blue focus:ring-0 disabled:bg-slate-100 disabled:text-slate-400"},[e("option",{value:a==="union"?null:"",disabled:""}," নির্বাচন করুন ",8,Xe),(d(!0),r($,null,j(n[`${a}s`],m=>(d(),r("option",{key:m.id,value:m.id},u(m.bn_name||m.name),9,Ge))),128))],40,qe),c(o(se),{class:"pointer-events-none absolute top-1/2 right-4 h-4 w-4 -translate-y-1/2 text-slate-400"})])])),64)),e("div",Je,[t[18]||(t[18]=e("label",{class:"mb-1.5 block text-xs font-bold text-slate-600"},"বিস্তারিত ঠিকানা",-1)),v(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=i=>o(s).address_details=i),rows:"2",class:"w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-800 placeholder-slate-400 focus:border-blue focus:bg-white focus:ring-0",placeholder:"বাড়ির নাম/নম্বর, রোড নম্বর, এলাকা..."},null,512),[[y,o(s).address_details]])]),e("div",Ke,[e("label",Qe,[v(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=i=>o(s).is_default=i),class:"h-5 w-5 rounded border-slate-300 text-blue focus:ring-blue"},null,512),[[Q,o(s).is_default]]),t[19]||(t[19]=e("span",{class:"text-sm font-bold text-slate-700"},"ডিফল্ট ঠিকানা হিসেবে সেভ করুন",-1))])])],32)]),e("div",Re,[e("button",{onClick:f,class:"rounded-xl px-5 py-2.5 text-sm font-bold text-slate-500 transition hover:bg-slate-50"}," বাতিল "),e("button",{onClick:V,disabled:o(s).processing,class:"flex items-center gap-2 rounded-xl bg-blue px-6 py-2.5 text-sm font-bold text-white shadow-lg shadow-blue/30 transition hover:bg-blue-hover active:scale-95 disabled:opacity-70"},[o(s).processing?(d(),C(o(A),{key:0,class:"h-4 w-4 animate-spin"})):(d(),r("span",Ye,u(x.value?"আপডেট করুন":"সেভ করুন"),1))],8,We)])])])])):_("",!0)])]),_:1}))}}),dt=ie(Ze,[["__scopeId","data-v-3b4ab2c7"]]);export{dt as default};
