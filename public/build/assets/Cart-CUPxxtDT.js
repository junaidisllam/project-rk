import{d as B,z as p,e as d,b as e,g as o,w as u,i as l,J as h,t as n,h as x,o as r,m as k,p as C,D as F,F as j,j as I,n as D,f as _,T as N}from"./app-CRBo5Voe.js";import{_ as L}from"./Footer.vue_vue_type_script_setup_true_lang-DvTO5L_A.js";import{u as M,b as P,A as z,g as U,h as m,C as S,T as q,i as Q,P as E}from"./Heading-DtnxNrzF.js";import{_ as G}from"./_plugin-vue_export-helper-DrTGjmaW.js";import"./createLucideIcon-D5TOW6Nr.js";import"./lock-aEEwqRyI.js";const H={class:"hidden lg:block"},J={class:"fixed top-0 right-0 left-0 z-40 flex h-16 items-center border-b border-slate-100 bg-white/90 px-4 shadow-sm backdrop-blur-md lg:hidden"},R={class:"text-lg font-bold text-slate-900"},K={class:"min-h-screen bg-[#F5F7FA] pt-20 pb-48 font-sans text-slate-900 lg:pt-0 lg:pb-20"},O={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},W={class:"mb-8 hidden items-center justify-between lg:flex"},X={class:"mt-1 text-sm font-medium text-slate-500"},Y={class:"text-blue"},Z={key:0,class:"flex min-h-[60vh] flex-col items-center justify-center text-center"},ee={class:"relative mb-6"},te={class:"relative flex size-24 items-center justify-center rounded-full bg-white shadow-xl shadow-blue-100"},se={key:1,class:"flex flex-col gap-8 lg:flex-row lg:items-start"},le={class:"flex-1 space-y-4"},oe={class:"flex items-center justify-between rounded-xl bg-white p-4 shadow-sm"},ae={class:"flex cursor-pointer items-center gap-3"},ne={class:"relative flex items-center"},ie={class:"flex items-center"},de={class:"relative flex cursor-pointer items-center p-1"},re=["onUpdate:modelValue","onChange"],ce={class:"relative h-24 w-16 shrink-0 overflow-hidden rounded-lg bg-slate-100 shadow-sm sm:h-28 sm:w-20"},ue=["src","alt"],xe={class:"flex flex-1 flex-col justify-between py-0.5"},be={class:"flex justify-between gap-2"},pe={class:"line-clamp-2 text-sm font-bold text-slate-800 lg:text-base"},he={class:"line-clamp-1 text-xs text-slate-500"},fe=["onClick"],_e={class:"mt-2 flex items-end justify-between"},ge={class:"flex items-center gap-2"},me={class:"text-base font-extrabold text-blue"},ve={key:0,class:"text-xs text-slate-400 line-through"},we={key:0,class:"mt-0.5 text-[10px] font-bold text-green-600"},ye={class:"flex items-center rounded-full border border-slate-200 bg-white shadow-sm"},ke=["onClick","disabled"],Ce={class:"w-6 text-center text-sm font-bold text-slate-900"},je=["onClick"],ze={class:"sticky top-4 hidden w-96 lg:block"},Se={class:"rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-100"},Ve={class:"space-y-4 border-b border-slate-50 pb-6 text-sm"},Ae={class:"flex justify-between text-slate-600"},Te={class:"font-bold text-slate-900"},$e={key:0,class:"flex justify-between font-bold text-green-600"},Be={class:"mt-2 mb-6 flex items-end justify-between pt-4"},Fe={class:"text-3xl font-black text-blue"},Ie={class:"fixed right-0 bottom-0 left-0 z-50 rounded-t-2xl border-t border-slate-100 bg-white px-5 pt-4 pb-6 shadow-[0_-5px_20px_rgba(0,0,0,0.08)] lg:hidden"},De={class:"mx-auto max-w-md"},Ne={class:"flex items-center justify-between gap-4"},Le={class:"flex flex-col"},Me={class:"text-xs font-medium text-slate-500"},Pe={class:"flex items-baseline gap-2"},Ue={class:"text-2xl font-black text-blue"},qe={key:0,class:"text-xs font-bold text-green-600 line-through decoration-slate-300"},Qe={class:"hidden lg:block"},Ee=B({__name:"Cart",setup(Ge){const a=M(),v=p(()=>a.selectedItems),w=p(()=>a.subtotal),f=p(()=>a.totalSavings),g=p(()=>w.value),y=p({get:()=>a.allSelected,set:i=>a.toggleAllSelected(i)}),V=i=>{a.incrementQuantity(i)},A=i=>{a.decrementQuantity(i)},T=i=>{a.remove(i)},$=i=>{a.toggleSelection(i)},c=i=>"৳"+i.toLocaleString("en-BD");return(i,t)=>(r(),d(j,null,[e("div",H,[o(P)]),e("div",J,[o(l(h),{href:"/",class:"mr-4 rounded-full p-2 text-slate-700 active:bg-slate-100"},{default:u(()=>[o(l(z),{class:"size-6"})]),_:1}),e("h1",R," শপিং ব্যাগ ("+n(l(a).items.length)+") ",1)]),e("div",K,[e("div",O,[e("div",W,[e("div",null,[t[4]||(t[4]=e("h1",{class:"text-3xl font-extrabold tracking-tight text-slate-900"}," আপনার শপিং ব্যাগ ",-1)),e("p",X,[t[2]||(t[2]=x(" আপনার ব্যাগে ",-1)),e("span",Y,n(l(a).items?.length??0)+" টি",1),t[3]||(t[3]=x(" আইটেম রয়েছে ",-1))])]),o(l(h),{href:"/",class:"flex items-center gap-2 text-sm font-bold text-blue hover:underline"},{default:u(()=>[o(l(z),{class:"size-4"}),t[5]||(t[5]=x(" কেনাকাটা চালিয়ে যান ",-1))]),_:1})]),o(N,{name:"fade-slide",mode:"out-in"},{default:u(()=>[l(a).items.length===0?(r(),d("div",Z,[e("div",ee,[t[6]||(t[6]=e("div",{class:"absolute inset-0 animate-ping rounded-full bg-blue-100 opacity-20"},null,-1)),e("div",te,[o(l(U),{class:"size-10 text-blue"})])]),t[8]||(t[8]=e("h2",{class:"text-2xl font-bold text-slate-900"}," ব্যাগটি খালি! ",-1)),t[9]||(t[9]=e("p",{class:"mt-2 max-w-xs text-sm text-slate-500"}," মনে হচ্ছে আপনি এখনও কোনো বই পছন্দ করেননি। ",-1)),o(l(h),{href:"/",class:"mt-8 flex items-center gap-2 rounded-full bg-blue px-8 py-3.5 font-bold text-white shadow-lg shadow-blue/30 transition hover:scale-105 active:scale-95"},{default:u(()=>[t[7]||(t[7]=x(" বই খুঁজতে যান ",-1)),o(l(m),{class:"size-4"})]),_:1})])):(r(),d("div",se,[e("div",le,[e("div",oe,[e("label",ae,[e("div",ne,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>y.value=s),class:"peer size-5 cursor-pointer appearance-none rounded border-2 border-slate-300 transition-all checked:border-blue checked:bg-blue"},null,512),[[C,y.value]]),o(l(S),{class:"pointer-events-none absolute left-0.5 size-3.5 text-white opacity-0 peer-checked:opacity-100"})]),t[10]||(t[10]=e("span",{class:"text-sm font-bold text-slate-700"},"সবগুলো সিলেক্ট করুন",-1))]),e("button",{onClick:t[1]||(t[1]=(...s)=>l(a).clearCart&&l(a).clearCart(...s)),class:"text-xs font-medium text-red-500 hover:text-red-700"}," সব মুছুন ")]),o(F,{name:"list",tag:"div",class:"space-y-3"},{default:u(()=>[(r(!0),d(j,null,I(l(a).items,s=>(r(),d("div",{key:s.id,class:D(["group relative flex gap-3 overflow-hidden rounded-2xl bg-white p-3 shadow-sm ring-1 transition-all duration-300 hover:shadow-md lg:p-4",s.selected?"bg-blue-50/10 ring-blue-200":"ring-transparent"])},[e("div",ie,[e("label",de,[k(e("input",{type:"checkbox","onUpdate:modelValue":b=>s.selected=b,onChange:b=>$(s.id),class:"peer size-5 cursor-pointer appearance-none rounded border-2 border-slate-300 transition-all checked:border-blue checked:bg-blue"},null,40,re),[[C,s.selected]]),o(l(S),{class:"pointer-events-none absolute left-1.5 size-3.5 text-white opacity-0 peer-checked:opacity-100"})])]),e("div",ce,[e("img",{src:s.cover_photo?`/storage/${s.cover_photo}`:void 0,alt:s.name,class:"h-full w-full object-cover"},null,8,ue)]),e("div",xe,[e("div",be,[e("div",null,[e("h3",pe,n(s.name),1),e("p",he,n(s.writer.name),1)]),e("button",{onClick:b=>T(s.id),class:"h-8 w-8 shrink-0 rounded-full p-1.5 text-slate-400 transition hover:bg-red-50 hover:text-red-500"},[o(l(q),{class:"h-full w-full"})],8,fe)]),e("div",_e,[e("div",null,[e("div",ge,[e("span",me,n(c(s.price)),1),s.original_price?(r(),d("span",ve,n(c(s.original_price)),1)):_("",!0)]),s.original_price?(r(),d("p",we,n(Math.round((s.original_price-s.price)/s.original_price*100))+"% ছাড় ",1)):_("",!0)]),e("div",ye,[e("button",{onClick:b=>A(s.id),disabled:s.quantity<=1,class:"flex h-8 w-8 items-center justify-center rounded-full text-slate-600 active:bg-slate-100 disabled:opacity-30"},[o(l(Q),{class:"size-3.5"})],8,ke),e("span",Ce,n(s.quantity),1),e("button",{onClick:b=>V(s.id),class:"flex h-8 w-8 items-center justify-center rounded-full text-slate-600 active:bg-slate-100"},[o(l(E),{class:"size-3.5"})],8,je)])])])],2))),128))]),_:1})]),e("aside",ze,[e("div",Se,[t[14]||(t[14]=e("h2",{class:"mb-6 text-xl font-extrabold text-slate-900"}," অর্ডার সামারি ",-1)),e("div",Ve,[e("div",Ae,[e("span",null,"সাবটোটাল ("+n(v.value?.length??0)+")",1),e("span",Te,n(c(w.value)),1)]),f.value>0?(r(),d("div",$e,[t[11]||(t[11]=e("span",null,"মোট সাশ্রয়",-1)),e("span",null,"- "+n(c(f.value)),1)])):_("",!0)]),e("div",Be,[t[12]||(t[12]=e("span",{class:"text-base font-bold text-slate-700"},"সর্বমোট",-1)),e("span",Fe,n(c(g.value)),1)]),o(l(h),{href:"/checkout",class:"flex w-full items-center justify-center gap-3 rounded-xl bg-blue py-4 font-bold text-white shadow-xl shadow-blue-200 transition hover:-translate-y-1 hover:bg-blue-700 active:scale-95"},{default:u(()=>[t[13]||(t[13]=x(" চেকআউট করুন ",-1)),o(l(m),{class:"size-5"})]),_:1})])])]))]),_:1})])]),e("div",Ie,[e("div",De,[e("div",Ne,[e("div",Le,[e("span",Me,"সর্বমোট ("+n(v.value.length)+" আইটেম)",1),e("div",Pe,[e("span",Ue,n(c(g.value)),1),f.value>0?(r(),d("span",qe,n(c(g.value+f.value)),1)):_("",!0)])]),o(l(h),{href:"/checkout",class:"flex flex-1 items-center justify-center gap-2 rounded-xl bg-blue py-3.5 text-base font-bold text-white shadow-lg shadow-blue/30 transition active:scale-95"},{default:u(()=>[t[15]||(t[15]=x(" চেকআউট ",-1)),o(l(m),{class:"size-5"})]),_:1})])])]),e("div",Qe,[o(L)])],64))}}),Xe=G(Ee,[["__scopeId","data-v-d0b8f602"]]);export{Xe as default};
