import{u as $,i as V,d as j,e as N,w as J,f as W,g as q,h as D,j as I}from"./index-CragLfhT.js";import{z as M,U as S,Y as b,aa as O,r as K,s as T,a0 as U,ae as z,x as B,i as Y,af as G}from"./app-CRBo5Voe.js";const P=V?window:void 0,ee=V?window.document:void 0,R=V?window.navigator:void 0;function H(e){var t;const a=b(e);return(t=a?.$el)!=null?t:a}function A(...e){const t=[],a=()=>{t.forEach(n=>n()),t.length=0},d=(n,i,l,u)=>(n.addEventListener(i,l,u),()=>n.removeEventListener(i,l,u)),r=M(()=>{const n=N(b(e[0])).filter(i=>i!=null);return n.every(i=>typeof i!="string")?n:void 0}),c=J(()=>{var n,i;return[(i=(n=r.value)==null?void 0:n.map(l=>H(l)))!=null?i:[P].filter(l=>l!=null),N(b(r.value?e[1]:e[0])),N(Y(r.value?e[2]:e[1])),b(r.value?e[3]:e[2])]},([n,i,l,u])=>{if(a(),!n?.length||!i?.length||!l?.length)return;const v=I(u)?{...u}:u;t.push(...n.flatMap(y=>i.flatMap(f=>l.map(h=>d(y,f,h,v)))))},{flush:"post"}),p=()=>{c(),a()};return W(a),p}function Q(){const e=S(!1),t=O();return t&&B(()=>{e.value=!0},t),e}function _(e){const t=Q();return M(()=>(t.value,!!e()))}function X(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function te(...e){let t,a,d={};e.length===3?(t=e[0],a=e[1],d=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,a=e[0],d=e[1]):(t=e[0],a=e[1]):(t=!0,a=e[0]);const{target:r=P,eventName:c="keydown",passive:p=!1,dedupe:n=!1}=d,i=X(t);return A(r,c,u=>{u.repeat&&b(n)||i(u)&&a(u)},p)}function L(e,t={}){const{controls:a=!1,navigator:d=R}=t,r=_(()=>d&&"permissions"in d),c=S(),p=typeof e=="string"?{name:e}:e,n=S(),i=()=>{var u,v;n.value=(v=(u=c.value)==null?void 0:u.state)!=null?v:"prompt"};A(c,"change",i,{passive:!0});const l=j(async()=>{if(r.value){if(!c.value)try{c.value=await d.permissions.query(p)}catch{c.value=void 0}finally{i()}if(a)return G(c.value)}});return l(),a?{state:n,isSupported:r,query:l}:n}function ne(e={}){const{navigator:t=R,read:a=!1,source:d,copiedDuring:r=1500,legacy:c=!1}=e,p=_(()=>t&&"clipboard"in t),n=L("clipboard-read"),i=L("clipboard-write"),l=M(()=>p.value||c),u=S(""),v=S(!1),y=$(()=>v.value=!1,r,{immediate:!1});async function f(){let s=!(p.value&&x(n.value));if(!s)try{u.value=await t.clipboard.readText()}catch{s=!0}s&&(u.value=w())}l.value&&a&&A(["copy","cut"],f,{passive:!0});async function h(s=b(d)){if(l.value&&s!=null){let o=!(p.value&&x(i.value));if(!o)try{await t.clipboard.writeText(s)}catch{o=!0}o&&g(s),u.value=s,v.value=!0,y.start()}}function g(s){const o=document.createElement("textarea");o.value=s??"",o.style.position="absolute",o.style.opacity="0",document.body.appendChild(o),o.select(),document.execCommand("copy"),o.remove()}function w(){var s,o,m;return(m=(o=(s=document?.getSelection)==null?void 0:s.call(document))==null?void 0:o.toString())!=null?m:""}function x(s){return s==="granted"||s==="prompt"}return{isSupported:l,text:u,copied:v,copy:h}}function Z(e){return JSON.parse(JSON.stringify(e))}function oe(e,t){const a=S(t);return T(q(e),(d,r)=>{a.value=r},{flush:"sync"}),z(a)}function ae(e,t,a,d={}){var r,c,p;const{clone:n=!1,passive:i=!1,eventName:l,deep:u=!1,defaultValue:v,shouldEmit:y}=d,f=O(),h=a||f?.emit||((r=f?.$emit)==null?void 0:r.bind(f))||((p=(c=f?.proxy)==null?void 0:c.$emit)==null?void 0:p.bind(f?.proxy));let g=l;t||(t="modelValue"),g=g||`update:${t.toString()}`;const w=o=>n?typeof n=="function"?n(o):Z(o):o,x=()=>D(e[t])?w(e[t]):v,s=o=>{y?y(o)&&h(g,o):h(g,o)};if(i){const o=x(),m=K(o);let C=!1;return T(()=>e[t],E=>{C||(C=!0,m.value=w(E),U(()=>C=!1))}),T(m,E=>{!C&&(E!==e[t]||u)&&s(E)},{deep:u}),m}else return M({get(){return x()},set(o){s(o)}})}export{ae as a,ne as b,oe as c,P as d,A as e,ee as f,Q as g,te as o,H as u};
